{% extends 'base.html' %}
{% load static %}

{% block content %}
<main class="main">
    <section class="section-box mt-50">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="content-detail">
                        <h2 class="color-white mb-30 wow animate__animated animate__fadeIn">{{ project.title }}</h2>

                        <div class="box-portfolio-frame mb-40 wow animate__animated animate__fadeIn">
                            <div class="inner-frame">
                                {% if project.image %}
                                    <img src="{{ project.image.url }}" class="img-styled" alt="{{ project.title }}">
                                {% else %}
                                    <img src="{% static 'assets/imgs/template/no-image.png' %}" class="img-styled" alt="No image">
                                {% endif %}
                            </div>
                        </div>

                        <div class="project-description color-gray-500 wow animate__animated animate__fadeIn">
                            <h4 class="color-white mb-20">Loyiha tavsifi</h4>
                            <div class="text-base line-height-32">
                                {{ project.description|linebreaks }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="sidebar-sticky">
                        <div class="box-sidebar bg-gray-850 border-gray-800 mb-30 p-25 bdrd-16">
                            <div class="head-sidebar">
                                <h5 class="line-bottom color-white">Kategoriyalar</h5>
                            </div>
                            <div class="content-sidebar mt-20">
                                <div class="list-cats">
                                    {% for cat in categories %}
                                    <div class="item-cats border-gray-800 d-flex justify-content-between mb-15 pb-10 border-bottom">
                                        <a class="color-gray-500 text-sm hover-up" href="#">{{ cat.name }}</a>
                                        <span class="btn btn-tag bg-gray-800 color-gray-500">{{ cat.projects.count }}</span>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <div class="box-sidebar bg-gray-850 border-gray-800 p-25 bdrd-16">
                            <div class="head-sidebar">
                                <h5 class="line-bottom color-white">Ma'lumotlar</h5>
                            </div>
                            <div class="content-sidebar mt-20">
                                <p class="color-gray-200 mb-5 text-uppercase font-xs">Kategoriya:</p>
                                <p class="color-linear font-bold text-lg">{{ project.category.name }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<style>
    .box-portfolio-frame {
        background: #1b1b1b;
        padding: 20px;
        border: 2px solid #333;
        border-radius: 24px;
        box-shadow: 0px 25px 50px rgba(0, 0, 0, 0.5);
    }

    .inner-frame {
        border-radius: 15px;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .img-styled {
        width: 100%;
        height: auto;
        max-height: 550px;
        display: block;
        object-fit: contain;
        transition: transform 0.5s ease;
    }

    .box-portfolio-frame:hover .img-styled {
        transform: scale(1.02);
    }

    .sidebar-sticky {
        position: -webkit-sticky;
        position: sticky;
        top: 100px;
    }
</style>
{% endblock %}